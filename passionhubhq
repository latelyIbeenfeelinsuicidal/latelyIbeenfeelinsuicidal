-- GUI Setup
local screenGui = Instance.new("ScreenGui")
screenGui.Name = "PassionHubGUI"
screenGui.Parent = game.Players.LocalPlayer.PlayerGui

-- Create Main Frame
local mainFrame = Instance.new("Frame")
mainFrame.Size = UDim2.new(0, 300, 0, 400)
mainFrame.Position = UDim2.new(0, 10, 0, 10)
mainFrame.BackgroundColor3 = Color3.fromRGB(0, 0, 0)
mainFrame.BackgroundTransparency = 0.5
mainFrame.Parent = screenGui

-- Create Title
local title = Instance.new("TextLabel")
title.Text = "Passion Hub"
title.Size = UDim2.new(0, 300, 0, 50)
title.Position = UDim2.new(0, 0, 0, 0)
title.TextColor3 = Color3.fromRGB(255, 255, 255)
title.BackgroundTransparency = 1
title.TextScaled = true
title.Parent = mainFrame

-- Variables for toggling features
local lowArcAimbotEnabled = false
local highArcAimbotEnabled = false
local autoShootEnabled = false
local speedChangerEnabled = false

-- Low Arc Aimbot Button
local lowArcButton = Instance.new("TextButton")
lowArcButton.Text = "Low Arc Aimbot"
lowArcButton.Size = UDim2.new(0, 280, 0, 40)
lowArcButton.Position = UDim2.new(0, 10, 0, 60)
lowArcButton.TextColor3 = Color3.fromRGB(255, 255, 255)
lowArcButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
lowArcButton.TextScaled = true
lowArcButton.Parent = mainFrame

-- Low Arc Aimbot Logic
lowArcButton.MouseButton1Click:Connect(function()
    lowArcAimbotEnabled = not lowArcAimbotEnabled
    if lowArcAimbotEnabled then
        lowArcButton.Text = "Low Arc Aimbot: ON"
        print("Low Arc Aimbot Enabled")
    else
        lowArcButton.Text = "Low Arc Aimbot: OFF"
        print("Low Arc Aimbot Disabled")
    end
end)

-- High Arc Aimbot Button
local highArcButton = Instance.new("TextButton")
highArcButton.Text = "High Arc Aimbot"
highArcButton.Size = UDim2.new(0, 280, 0, 40)
highArcButton.Position = UDim2.new(0, 10, 0, 110)
highArcButton.TextColor3 = Color3.fromRGB(255, 255, 255)
highArcButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
highArcButton.TextScaled = true
highArcButton.Parent = mainFrame

-- High Arc Aimbot Logic
highArcButton.MouseButton1Click:Connect(function()
    highArcAimbotEnabled = not highArcAimbotEnabled
    if highArcAimbotEnabled then
        highArcButton.Text = "High Arc Aimbot: ON"
        print("High Arc Aimbot Enabled")
    else
        highArcButton.Text = "High Arc Aimbot: OFF"
        print("High Arc Aimbot Disabled")
    end
end)

-- Auto-Shoot Button
local autoShootButton = Instance.new("TextButton")
autoShootButton.Text = "Auto-Shoot"
autoShootButton.Size = UDim2.new(0, 280, 0, 40)
autoShootButton.Position = UDim2.new(0, 10, 0, 160)
autoShootButton.TextColor3 = Color3.fromRGB(255, 255, 255)
autoShootButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
autoShootButton.TextScaled = true
autoShootButton.Parent = mainFrame

-- Auto-Shoot Logic
autoShootButton.MouseButton1Click:Connect(function()
    autoShootEnabled = not autoShootEnabled
    if autoShootEnabled then
        autoShootButton.Text = "Auto-Shoot: ON"
        print("Auto-Shoot Enabled")
    else
        autoShootButton.Text = "Auto-Shoot: OFF"
        print("Auto-Shoot Disabled")
    end
end)

-- Speed Changer Button
local speedChangerButton = Instance.new("TextButton")
speedChangerButton.Text = "Speed Changer"
speedChangerButton.Size = UDim2.new(0, 280, 0, 40)
speedChangerButton.Position = UDim2.new(0, 10, 0, 210)
speedChangerButton.TextColor3 = Color3.fromRGB(255, 255, 255)
speedChangerButton.BackgroundColor3 = Color3.fromRGB(40, 40, 40)
speedChangerButton.TextScaled = true
speedChangerButton.Parent = mainFrame

-- Speed Changer Logic
speedChangerButton.MouseButton1Click:Connect(function()
    speedChangerEnabled = not speedChangerEnabled
    if speedChangerEnabled then
        speedChangerButton.Text = "Speed Changer: ON"
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 30
        print("Speed Changer Enabled")
    else
        speedChangerButton.Text = "Speed Changer: OFF"
        game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = 16
        print("Speed Changer Disabled")
    end
end)

-- WalkSpeed Adjustment Slider (16 to 30)
local speedSlider = Instance.new("Slider")
speedSlider.MinValue = 16
speedSlider.MaxValue = 30
speedSlider.Value = 16
speedSlider.Size = UDim2.new(0, 280, 0, 40)
speedSlider.Position = UDim2.new(0, 10, 0, 260)
speedSlider.Parent = mainFrame

speedSlider.Changed:Connect(function(value)
    game.Players.LocalPlayer.Character.Humanoid.WalkSpeed = value
    print("WalkSpeed set to: " .. value)
end)

-- Close Button
local closeButton = Instance.new("TextButton")
closeButton.Text = "Close GUI"
closeButton.Size = UDim2.new(0, 280, 0, 40)
closeButton.Position = UDim2.new(0, 10, 0, 310)
closeButton.TextColor3 = Color3.fromRGB(255, 255, 255)
closeButton.BackgroundColor3 = Color3.fromRGB(255, 0, 0)
closeButton.TextScaled = true
closeButton.Parent = mainFrame

closeButton.MouseButton1Click:Connect(function()
    screenGui:Destroy()  -- Remove the GUI from the player's screen
    print("GUI Closed")
end)

-- Anti-Cheat Logic (Prevents obvious exploiters)
game:GetService("Players").PlayerAdded:Connect(function(player)
    player.CharacterAdded:Connect(function(character)
        local humanoid = character:WaitForChild("Humanoid")
        if humanoid.WalkSpeed > 50 then
            humanoid.WalkSpeed = 16  -- Reset to normal speed if it's too high
            print("Anti-Cheat: WalkSpeed reset for " .. player.Name)
        end
    end)
end)

-- Toggle the GUI with Left Control key
local isGuiOpen = true
local function toggleGui()
    isGuiOpen = not isGuiOpen
    screenGui.Enabled = isGuiOpen
end

game:GetService("UserInputService").InputBegan:Connect(function(input, gameProcessedEvent)
    if not gameProcessedEvent and input.KeyCode == Enum.KeyCode.LeftControl then
        toggleGui()  -- Toggle the visibility of the GUI
    end
end)

-- Show the GUI by default
screenGui.Enabled = true

-- Aimbot Functions
game:GetService("RunService").RenderStepped:Connect(function()
    local player = game.Players.LocalPlayer
    local ball = workspace:FindFirstChild("Basketball")
    local hoop = workspace:FindFirstChild("Hoop")
    
    if ball and hoop then
        if lowArcAimbotEnabled and (ball.Position - player.Character.HumanoidRootPart.Position).Magnitude < 50 then
            ball.CFrame = CFrame.new(player.Character.HumanoidRootPart.Position + Vector3.new(0, 5, 0))
            ball.Velocity = Vector3.new(0, 50, 0)  -- Low arc trajectory
        end
        
        if highArcAimbotEnabled and (ball.Position - player.Character.HumanoidRootPart.Position).Magnitude < 50 then
            ball.CFrame = CFrame.new(player.Character.HumanoidRootPart.Position + Vector3.new(0, 10, 0))
            ball.Velocity = Vector3.new(0, 100, 0)  -- High arc trajectory
        end
        
        -- Auto-Shoot: Trigger when player jumps
        if autoShootEnabled then
            player.Character:WaitForChild("Humanoid").Jumping:Connect(function()
                local distanceToHoop = (hoop.Position - ball.Position).Magnitude
                local shootPower = math.clamp(100 / distanceToHoop, 20, 100)  -- Adjust power based on distance
                ball.Velocity = (hoop.Position - ball.Position).unit * shootPower
                print("Auto-Shoot: Ball shot with power " .. shootPower)
            end)
        end
    end
end)
